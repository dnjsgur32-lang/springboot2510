<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8" />
    <title th:text="${book.id != null ? '도서 수정' : '도서 등록'}">도서 등록</title>
    <style>
        /* ===== Library Theme (아이보리 + 잉크 + 소나무 그린) ===== */
        :root{
            --lib-bg:#f7f6f1; --lib-ink:#2e3a2f; --lib-accent:#4b7f5a;
            --lib-accent-2:#6aa17a; --lib-line:#dcd7c9; --lib-muted:#6b6b6b;
        }
        *{ box-sizing:border-box }
        body{
            font-family:"Noto Sans KR", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
            margin:32px; color:var(--lib-ink); background:var(--lib-bg);
        }
        h1{
            margin:0 0 16px; padding-bottom:8px;
            border-bottom:2px solid var(--lib-accent);
            letter-spacing:.5px; text-align:center;
        }

        .form-container{
            max-width:560px; margin:0 auto; background:#fff;
            border:1px solid var(--lib-line);
            border-radius:12px; padding:22px 20px;
            box-shadow:0 2px 10px rgba(0,0,0,.03);
        }

        .form-group{ margin-bottom:16px; }
        label{
            display:block; margin:0 0 6px; font-weight:700; color:var(--lib-ink);
        }
        input[type="text"], input[type="number"]{
            width:100%; padding:11px 12px; border:1px solid var(--lib-line);
            border-radius:10px; background:#fff;
            outline:none; transition:border-color .15s ease, box-shadow .15s ease;
        }
        input[type="text"]:focus, input[type="number"]:focus{
            border-color:var(--lib-accent-2);
            box-shadow:0 0 0 3px rgba(106,161,122,.18);
        }
        .hint{ color:var(--lib-muted); font-size:.9rem; margin-top:6px; }

        /* list.html과 동일한 버튼 크기/폰트 */
        .button-group{ text-align:center; margin-top:22px; }
        .btn{
            display:inline-flex; align-items:center; justify-content:center;
            height:42px; padding:0 16px; margin:6px 4px;
            font-size:14px; color:#fff; text-decoration:none; white-space:nowrap;
            border-radius:10px; border:0; cursor:pointer;
            transition:transform .06s ease, opacity .2s ease;
        }
        .btn:hover{ opacity:.92; transform:translateY(-1px); }
        .btn:active{ transform:translateY(0); }
        .btn-primary{ background:var(--lib-accent); }
        .btn-secondary{ background:#6c757d; }

        @media (max-width:640px){
            body{ margin:18px; }
            .form-container{ padding:18px 16px; }
            .btn{ height:38px; font-size:13px; }
        }
    </style>
</head>

<body>
<div class="form-container">
    <h1 th:text="${book.id != null ? '도서 수정' : '도서 등록'}">도서 등록</h1>

    <!-- id 있으면 /books/{id} 로 제출(수정), 없으면 /books 로 제출(등록) -->
    <form th:action="${book.id != null} ? @{/books/{id}(id=${book.id})} : @{/books}"
          th:object="${book}"
          method="post">

        <div class="form-group">
            <label for="title">제목</label>
            <input type="text" id="title" th:field="*{title}" required />
        </div>

        <div class="form-group">
            <label for="author">저자</label>
            <input type="text" id="author" th:field="*{author}" required />
        </div>

        <div class="form-group">
            <label for="price">가격</label>
            <input type="number" id="price" th:field="*{price}" min="0" step="100" required />
            <div class="hint">원 단위 · 100원 단위 입력 권장</div>
        </div>

        <div class="form-group">
            <label for="stock">재고</label>
            <input type="number" id="stock" th:field="*{stock}" min="0" step="1" required />
            <div class="hint">현재 보유 수량</div>
        </div>

        <div class="button-group">
            <button type="submit" class="btn btn-primary">저장</button>
            <a href="/books" class="btn btn-secondary">취소</a>
        </div>
    </form>
</div>
</body>
</html>
